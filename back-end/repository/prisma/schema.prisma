generator client {
    provider    = "prisma-client-js"
}

datasource db {
    provider    = "postgresql"
    url         = env("DATABASE_URL")
}

model User {
    id          Int     @id @default(autoincrement())
    username    String  @unique
    password    String
    races       Race[]
}

model Admin {
    id          Int     @id @default(autoincrement())
    username    String  @unique
    password    String
}

model Crash {
    id          Int     @id @default(autoincrement())
    type        String
}

model Driver {
    id          Int     @id @default(autoincrement())
    name        String
    team        String
    descritpion String
    racecar     Racecar @relation(fields: [racecarId], references: [id], map: "Driver_racecar_fkey")
    racecarId   Int
    crash       Crash @relation(fields: [crashId], references: [id], map: "Driver_crash_fkey")
    crashId     Int
    crash       Crash
}

model Racecar {
    id          Int     @id @default(autoincrement())
    car_name    String
    drivers     Driver[]
}

model Submission_form {
}

model Submission_form {
    id          Int     @id @default(autoincrement())
    title       String
    content     String
    user        User
    race        Race
}

model Race {
    id          Int     @id @default(autoincrement())
    name        String
    type        String
    description String
    location    String
    drivers      Driver[]
    admin       Admin?
}
